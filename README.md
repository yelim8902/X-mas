# X-mas (Claymorphism Christmas Rolling Paper)

Next.js 14 (App Router) + Tailwind CSS + Framer Motion ê¸°ë°˜ìœ¼ë¡œ **í´ë ˆì´ëª¨í”¼ì¦˜/ê¸€ë˜ìŠ¤ëª¨í”¼ì¦˜** UIë¡œ ë§Œë“  í¬ë¦¬ìŠ¤ë§ˆìŠ¤ íŠ¸ë¦¬ ë¡¤ë§í˜ì´í¼ ì• í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤.

ì¹œêµ¬ë“¤ê³¼ í•¨ê»˜ ë‚˜ë§Œì˜ í¬ë¦¬ìŠ¤ë§ˆìŠ¤ íŠ¸ë¦¬ë¥¼ ë§Œë“¤ê³ , ì˜¤ë„ˆë¨¼íŠ¸ì™€ ì„ ë¬¼ì„ í†µí•´ ë”°ëœ»í•œ ë©”ì‹œì§€ë¥¼ ì£¼ê³ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ğŸŒŸ ì£¼ìš” ê¸°ëŠ¥

### íŠ¸ë¦¬ ê´€ë¦¬

- âœ… **ë‹¤ì¤‘ íŠ¸ë¦¬ ì§€ì›**: í•œ ê³„ì •ìœ¼ë¡œ ì—¬ëŸ¬ ê°œì˜ íŠ¸ë¦¬ë¥¼ ë§Œë“¤ê³  ê´€ë¦¬
- âœ… **íŠ¸ë¦¬ ì‚­ì œ**: ëŒ€ì‹œë³´ë“œì—ì„œ íŠ¸ë¦¬ ì‚­ì œ ê¸°ëŠ¥
- âœ… **íŠ¸ë¦¬ ìˆ˜ì •**: ì˜¤ë„ˆëŠ” íŠ¸ë¦¬ ì •ë³´(ì´ë¦„, ì„±ë³„, ë‚˜ì´, íŠ¸ë¦¬ ìŠ¤íƒ€ì¼) ìˆ˜ì • ê°€ëŠ¥

### ì˜¤ë„ˆ ëª¨ë“œ

- ğŸ“¤ **íŠ¸ë¦¬ ê³µìœ **: ì¹´ì¹´ì˜¤í†¡ìœ¼ë¡œ íŠ¸ë¦¬ ë§í¬ ê³µìœ 
- âœï¸ **íŠ¸ë¦¬ ì •ë³´ ìˆ˜ì •**: ì˜¨ë³´ë”© ëª¨ë‹¬ì„ í†µí•´ íŠ¸ë¦¬ ì •ë³´ ë³€ê²½
- ğŸ… **ì‚°íƒ€ ë¶„ì„**: AI(Gemini)ë¥¼ í™œìš©í•œ ì¹œêµ¬ë“¤ì˜ ë©”ì‹œì§€ ë¶„ì„ ë° ì„ ë¬¼ ì¶”ì²œ
- ğŸ‘€ **ë©”ì‹œì§€ í™•ì¸**: D-Day ì´ì „ì—ë„ ì„ ë¬¼/ì˜¤ë„ˆë¨¼íŠ¸ ë©”ì‹œì§€ í™•ì¸ ê°€ëŠ¥

### ê²ŒìŠ¤íŠ¸ ëª¨ë“œ

- ğŸ„ **ì˜¤ë„ˆë¨¼íŠ¸ ë‹¬ê¸°**: ì¹´í…Œê³ ë¦¬ë³„(ê°ì‚¬, ì¶”ì–µ, ì¹­ì°¬, í˜ë‚´, ìœ„ë¡œ, ì†Œì›) ì§ˆë¬¸ì— ë‹µí•˜ë©° ë©”ì‹œì§€ ì‘ì„±
- ğŸ **ì„ ë¬¼ ì£¼ê¸°**: ë¹¨ê°„/ì´ˆë¡/ë…¸ë€ ì„ ë¬¼ ì¤‘ ì„ íƒí•˜ì—¬ ë©”ì‹œì§€ ì „ë‹¬
- ğŸ“¦ **ì„ ë¬¼ ì—´ê¸°**: D-Dayì— ì„ ë¬¼ì„ ì—´ì–´ ë©”ì‹œì§€ í™•ì¸

### ì¸ì¦ ë° ì‚¬ìš©ì ê´€ë¦¬

- ğŸ” **ì¹´ì¹´ì˜¤ OAuth ë¡œê·¸ì¸**: ê°„í¸í•œ ì†Œì…œ ë¡œê·¸ì¸
- ğŸ“‹ **ëŒ€ì‹œë³´ë“œ**: ë‚´ê°€ ë§Œë“  ëª¨ë“  íŠ¸ë¦¬ ëª©ë¡ í™•ì¸ ë° ê´€ë¦¬
- ğŸ”„ **ìë™ ë¦¬ë‹¤ì´ë ‰íŠ¸**: ë¡œê·¸ì¸ ìƒíƒœì— ë”°ë¼ ìë™ í˜ì´ì§€ ì´ë™

## ğŸš€ ì‹¤í–‰ ë°©ë²•

### í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

`.env.local` íŒŒì¼ì„ ìƒì„±í•˜ê³  ë‹¤ìŒ ë³€ìˆ˜ë“¤ì„ ì„¤ì •í•˜ì„¸ìš”:

```env
NEXT_PUBLIC_SUPABASE_URL=your_supabase_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key
GEMINI_API_KEY=your_gemini_api_key
NEXT_PUBLIC_PRODUCTION_URL=https://your-production-url.vercel.app
```

### ì„¤ì¹˜ ë° ì‹¤í–‰

```bash
npm install
npm run dev
```

http://localhost:3000 ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
app/
  â”œâ”€â”€ page.tsx              # ëœë”©/ë¸Œë¦¿ì§€ í˜ì´ì§€ (ì˜¨ë³´ë”©, ë¡œê·¸ì¸ ì²˜ë¦¬)
  â”œâ”€â”€ dashboard/            # ë‚´ íŠ¸ë¦¬ ëª©ë¡ ëŒ€ì‹œë³´ë“œ
  â”‚   â””â”€â”€ page.tsx          # íŠ¸ë¦¬ ëª©ë¡ ë° ì‚­ì œ ê¸°ëŠ¥
  â”œâ”€â”€ tree/[id]/           # ê°œë³„ íŠ¸ë¦¬ í˜ì´ì§€ (ë™ì  ë¼ìš°íŠ¸)
  â”‚   â””â”€â”€ page.tsx          # ì˜¤ë„ˆ/ê²ŒìŠ¤íŠ¸ ëª¨ë“œ ìë™ êµ¬ë¶„
  â”œâ”€â”€ auth/callback/        # OAuth ì½œë°± í•¸ë“¤ëŸ¬
  â”‚   â””â”€â”€ route.ts          # ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ í›„ ë¦¬ë‹¤ì´ë ‰íŠ¸ ì²˜ë¦¬
  â””â”€â”€ api/                  # API ë¼ìš°íŠ¸
      â”œâ”€â”€ santa/            # ì‚°íƒ€ ë¶„ì„ API (Gemini AI)
      â”‚   â””â”€â”€ route.ts
      â””â”€â”€ admin/            # ê´€ë¦¬ì API
          â””â”€â”€ reset-messages/route.ts

components/
  â”œâ”€â”€ tree/                 # íŠ¸ë¦¬ ê´€ë ¨ ì»´í¬ë„ŒíŠ¸
  â”‚   â”œâ”€â”€ TreeView.tsx      # íŠ¸ë¦¬ ë Œë”ë§ (ê³µí†µ)
  â”‚   â”œâ”€â”€ OwnerView.tsx     # ì˜¤ë„ˆ ëª¨ë“œ UI
  â”‚   â””â”€â”€ GuestView.tsx     # ê²ŒìŠ¤íŠ¸ ëª¨ë“œ UI
  â”œâ”€â”€ GlobalNavBar.tsx      # ì „ì—­ ë„¤ë¹„ê²Œì´ì…˜ ë°”
  â”œâ”€â”€ MessageModal.tsx      # ë©”ì‹œì§€ ì‘ì„± ëª¨ë‹¬
  â”œâ”€â”€ UnboxModal.tsx        # ë©”ì‹œì§€ ì—´ëŒ ëª¨ë‹¬
  â”œâ”€â”€ OnboardingModal.tsx   # ì˜¨ë³´ë”© ëª¨ë‹¬ (íŠ¸ë¦¬ ìƒì„±/ìˆ˜ì •)
  â”œâ”€â”€ LoginModal.tsx        # ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ ëª¨ë‹¬
  â”œâ”€â”€ SantaAnalysisModal.tsx # ì‚°íƒ€ ë¶„ì„ ëª¨ë‹¬
  â”œâ”€â”€ ConfirmModal.tsx      # í™•ì¸ ëª¨ë‹¬ (ì‚­ì œ ë“±)
  â”œâ”€â”€ ShareCard.tsx         # íŠ¸ë¦¬ ê³µìœ  ì¹´ë“œ (ì´ë¯¸ì§€ ìƒì„±)
  â””â”€â”€ Toast.tsx             # í† ìŠ¤íŠ¸ ì•Œë¦¼

utils/
  â”œâ”€â”€ supabase.ts           # Supabase í´ë¼ì´ì–¸íŠ¸
  â”œâ”€â”€ url.ts                # URL ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
  â”œâ”€â”€ ornamentQuestions.ts  # ì˜¤ë„ˆë¨¼íŠ¸ ì¹´í…Œê³ ë¦¬ë³„ ì§ˆë¬¸ í…œí”Œë¦¿
  â””â”€â”€ itemAssets.ts         # ì•„ì´í…œ ì´ë¯¸ì§€ ê²½ë¡œ ë§¤í•‘
```

## ğŸ”— URL êµ¬ì¡°

- `/` - ëœë”©/ë¸Œë¦¿ì§€ í˜ì´ì§€
  - ë¹„ë¡œê·¸ì¸: ì˜¨ë³´ë”© ëª¨ë‹¬ í‘œì‹œ ("íŠ¸ë¦¬ ë§Œë“¤ê¸° ì‹œì‘í•˜ê¸°")
  - ë¡œê·¸ì¸: ìë™ìœ¼ë¡œ `/dashboard`ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
  - `?create=true` íŒŒë¼ë¯¸í„°: ì˜¨ë³´ë”© ëª¨ë‹¬ ìë™ ì—´ê¸°
- `/dashboard` - ë‚´ íŠ¸ë¦¬ ëª©ë¡ í˜ì´ì§€
  - ë¡œê·¸ì¸ í•„ìš”
  - ë‚´ê°€ ë§Œë“  ëª¨ë“  íŠ¸ë¦¬ ëª©ë¡ í‘œì‹œ
  - íŠ¸ë¦¬ í´ë¦­ ì‹œ í•´ë‹¹ íŠ¸ë¦¬ í˜ì´ì§€ë¡œ ì´ë™
  - íŠ¸ë¦¬ ì‚­ì œ ê¸°ëŠ¥ (hover ì‹œ ì‚­ì œ ë²„íŠ¼ í‘œì‹œ)
- `/tree/[id]` - ê°œë³„ íŠ¸ë¦¬ í˜ì´ì§€
  - ì˜¤ë„ˆ/ê²ŒìŠ¤íŠ¸ ëª¨ë“œ ìë™ êµ¬ë¶„ (ì ‘ì†í•œ ì‚¬ìš©ìì˜ `user_id`ì™€ íŠ¸ë¦¬ì˜ `user_id` ë¹„êµ)
  - ì˜¤ë„ˆ ëª¨ë“œ: ê³µìœ í•˜ê¸°, ìˆ˜ì •í•˜ê¸°, ì‚°íƒ€ ë¶„ì„ ë“± ê´€ë¦¬ ê¸°ëŠ¥
  - ê²ŒìŠ¤íŠ¸ ëª¨ë“œ: ì˜¤ë„ˆë¨¼íŠ¸ ë‹¬ê¸°, ì„ ë¬¼ ì£¼ê¸° ê¸°ëŠ¥

## ğŸ¨ í•„ìš”í•œ ì´ë¯¸ì§€ íŒŒì¼

### íŠ¸ë¦¬ ì´ë¯¸ì§€

- `public/images/tree1.png`
- `public/images/tree2.png`
- `public/images/tree3.png`

### ì˜¤ë„ˆë¨¼íŠ¸ ì´ë¯¸ì§€

- `public/images/ornament-1.png`
- `public/images/ornament-2.png`
- `public/images/ornament-3.png`
- `public/images/ornament-4.png`
- `public/images/ornament-5.png`
- `public/images/ornament-6.png`

### ì„ ë¬¼ ì´ë¯¸ì§€

- `public/images/gift-red.png`
- `public/images/gift-green.png`
- `public/images/gift-yellow.png`

### ê¸°íƒ€

- `public/images/santa.png`

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ

- **í”„ë ˆì„ì›Œí¬**: Next.js 14 (App Router)
- **ì–¸ì–´**: TypeScript
- **ìŠ¤íƒ€ì¼ë§**: Tailwind CSS
- **ì• ë‹ˆë©”ì´ì…˜**: Framer Motion
- **ì¸ì¦**: Supabase Auth (ì¹´ì¹´ì˜¤ OAuth)
- **ë°ì´í„°ë² ì´ìŠ¤**: Supabase (PostgreSQL)
- **AI**: Google Gemini API
- **ì´ë¯¸ì§€ ìƒì„±**: html2canvas
- **ë°°í¬**: Vercel

## ğŸ“ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

### trees í…Œì´ë¸”

```sql
id (text, PK)
host_name (text)
host_gender (text) -- 'female' | 'male' | 'nonbinary' | 'other'
host_age (integer)
tree_style (text) -- 'tree1.png' | 'tree2.png' | 'tree3.png'
user_id (uuid, FK -> auth.users)
created_at (timestamptz)
updated_at (timestamptz)
```

### messages í…Œì´ë¸”

```sql
id (uuid, PK)
tree_id (text, FK -> trees.id)
content (text)
item_type (text) -- 'ornament' | 'gift'
item_design (text)
question_category (text) -- 'gratitude' | 'memory' | 'compliment' | 'strength' | 'cheerup' | 'wish'
gift_color (text) -- 'red' | 'green' | 'yellow'
x (float)
y (float)
is_read (boolean)
created_at (timestamptz)
```

## ğŸ” OAuth ì„¤ì •

### Supabase ì„¤ì •

1. Supabase Dashboard â†’ Authentication â†’ URL Configuration
2. Redirect URLsì— ë‹¤ìŒ ì¶”ê°€:
   - `https://your-production-url.vercel.app/auth/callback`
   - `http://localhost:3000/auth/callback` (ë¡œì»¬ ê°œë°œìš©)

### ì¹´ì¹´ì˜¤ ê°œë°œì ì„¼í„°

1. ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ í™œì„±í™”
2. Redirect URI ë“±ë¡:
   - `https://your-project.supabase.co/auth/v1/callback`

## ğŸš¢ ë°°í¬

Vercelì— ì—°ê²°ëœ GitHub ì €ì¥ì†Œì— pushí•˜ë©´ ìë™ìœ¼ë¡œ ë°°í¬ë©ë‹ˆë‹¤.

```bash
git push origin main
```

## ğŸ“„ ë¼ì´ì„ ìŠ¤

MIT
